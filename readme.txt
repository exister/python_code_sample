Данный пример кода является Django-app.
Отвечает за создание и отправку нотификаций и массовых нотификаций разных типов (email, sms, push).

Каждая нотификация является объектом базового класса Notification.
Массовые нотификации создаются путем сохранения набора фильтров над списком пользователей.

За отправку отвечают 2 management команды.
Каждая из них выбирает неотправленные нотификации из базы и создает задачу в celery на отправку.

1 таск в celery отвечает за создание объектов Notification, для каждого из пользователей, полученных из фильтра массовой рассылки.

2 таск отвечает за саму отправку нотификаций, повторные попытки отправки и лог ошибок.

Каджый сабкласс Notification реализует отправку, используя один из бекендов-транспортов. 